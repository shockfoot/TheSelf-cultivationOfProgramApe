# LC2716最小化字符串长度

难度：简单
数据结构：字符串
算法：哈希表、位运算

## 题目

给定一个下标从0开始的字符串`s`，重复执行下述操作**任意**次：

- 在字符串中选出一个下标`i`，并使`c`为字符串下标`i`处的字符。并在`i`左侧（如果有）和右侧（如果有）各**删除**一个距离`i`**最近**的字符`c`。

通过执行上述操作任意次，使`s`的长度**最小化**。

返回一个表示**最小化**字符串的长度的整数。

示例：

> 输入：s = "aaabc"
> 输出：3
> 解释：可以选择位于下标1处的字符'a'开始。接着删除下标1左侧最近的'a'（位于下标0）以及下标1右侧的'a'（位于下标2）。执行操作后，字符串变为"abc"。继续对字符串执行任何操作都不会改变其长度。因此，最小化字符串的长度是3。

提示：

- 1 <= s.length <= 100
- `s`仅由小写英文字母组成

## 题解

根据题目中“**删除一个距离`i`最近的字符**”，字符串`s`的最小长度即其不同字符的数量。

### 哈希表

使用哈希表记录不同字符，最后返回哈希表的数量即可。

``` csharp
public int MinimizedStringLength(string s)
{
    if (s.Length <= 1)
    {
        return s.Length;
    }

    HashSet<char> charHash = new HashSet<char>(26);

    foreach (char c in s)
    {
        if (charHash.Contains(c))
        {
            continue;
        }

        charHash.Add(c);
    }

    return charHash.Count;
}
```

时间复杂度：需要遍历整个字符串，因此时间复杂度为O(n)，n为字符串长度。

空间复杂度：哈希表长度最多为26，所以空间复杂度为O(1)。

### 位运算

由于一共只有26个字母，而一个`int `变量有32个二进制位，因此可以用一个整数作为哈希表来存储每个字母是否出现。

``` csharp
public int MinimizedStringLength(string s)
{
    int hash = 0;

    foreach (char c in s)
    {
        hash |= 1 << (c - 'a');
        // c = 'a': c - 'a' = 0, 1 << 0 = 0001, 0000 | 0001 = 0001
        // c = 'b': c - 'a' = 1, 1 << 1 = 0010, 0001 | 0010 = 0011
        // c = 'c': c - 'a' = 2, 1 << 2 = 0100, 0011 | 0100 = 0111
        // c = 'd': c - 'a' = 3, 1 << 3 = 1000, 0111 | 1000 = 1111
    }

    return BitOperations.PopCount((uint)hash);
}
```

时间复杂度：需要遍历整个字符串，因此时间复杂度为O(n)，n为字符串长度。

空间复杂度：空间复杂度为O(1)。