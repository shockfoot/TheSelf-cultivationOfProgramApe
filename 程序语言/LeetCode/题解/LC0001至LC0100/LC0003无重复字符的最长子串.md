# LC0003无重复字符的最长子串

难度：中等
数据结构：字符串
算法：暴力枚举、滑动窗口

## 题目

给定一个字符串s，请找出其中不含有重复字符的**最长子串**的长度。

示例：

> 输入：s = "abcabcbb"
> 输出：3
> 解释：无重复字符的最长子串是"abc"

提示：

- 0 <= s.length <= 5 * 10^4^
- s由英文字母、数字、符号和空格组成

## 题解

### 暴力枚举

遍历字符串s，每遍历到一个字符，往后遍历计算以该字符为首的无重复字符的子串长度，记录最大长度即可。

``` csharp
public int LengthOfLongestSubstring(string s)
{
    // 输入合法判断
    if (s == null || s.Length == 0)
    {
        return 0;
    }

    int maxLength = 0, curLength = 0;
    int l = s.Length;
    // 存储子串已出现的字符
    HashSet<char> substringCharacters = new HashSet<char>(l);
    for (int i = 0; i < l; i++)
    {
        // 清空上一个子串的数据
        substringCharacters.Clear();
        substringCharacters.Add(s[i]);
        curLength = 1;
        for (int j = i + 1; j < l; j++)
        {
            // 子串出现重复字符退出
            if (substringCharacters.Contains(s[j])) break;

            substringCharacters.Add(s[j]);
            curLength++;
        }
        // 记录最大长度
        maxLength = Max(maxLength, curLength);
    }

    return maxLength;
}
```

时间复杂度：

- 最佳情况下，字符串每个字符都一样，遍历字符串时每个字符只判断1次，时间复杂度为O(n)，n为字符串长度；
- 最坏情况下，遍历字符串时每个字符都判断到了最后，则共进行了(n - 1) + (n - 2) + ... + 1 = n(n - 1) / 2次判断，时间复杂度为O(n^2^)。

空间复杂度：使用了一个哈希表来存储、快速查找子串中已出现的字符，因此空间复杂度为O(n)。

### 滑动窗口

在遍历字符串时可以发现，当一个子串出现重复字符时，子串中第一个重复字符及该字符之前的字符组成的子串都是无需再遍历的，直接从第一个重复字符的下一个字符开始即可。

比如字符串"bacdbedcde"，子串"acdbed"中"d"重复时，无需再判断以"a"、"c"、"d"为首的子串，而是直接从子串"bed"继续即可。

因此，可以使用滑动窗口，即设置左右两个指针，指向子串的头和尾，当出现重复字符时，将头指针移动到第一个重复字符的下一个字符；当没有重复字符时，只移动右指针。在滑动过程中，同样需要使用哈希表存储、快速查找子串中的字符。当移动右指针时，往哈希表中添加最右侧字符；移动左指针时，向哈希表中删除最左侧的字符。当右指针到头时，即可结束。

``` csharp
public int LengthOfLongestSubstring(string s)
{
    // 输入合法判断
    if (s == null || s.Length == 0)
    {
        return 0;
    }

    int maxLength = 0, right = 0, left = 0, n = s.Length;
    // 存储子串已出现的字符
    HashSet<char> substringCharacters = new HashSet<char>(n);
    while (right < n)
    {
        // 右侧新字符重复时移动左指针，收窄窗口
        if (substringCharacters.Contains(s[right]))
        {
            // 收窄前记录最大长度
            maxLength = Max(maxLength, substringCharacters.Count);
            substringCharacters.Remove(s[left]);
            left++;
        }
        // 不重复时移动右指针，扩大窗口
        else
        {
            substringCharacters.Add(s[right]);
            right++;
        }
    }

    return Max(maxLength, substringCharacters.Count);
}
```

时间复杂度：完整遍历字符串，因此时间复杂度为O(n)。

空间复杂度：使用了一个哈希表来存储、快速查找子串中已出现的字符，因此空间复杂度为O(n)。