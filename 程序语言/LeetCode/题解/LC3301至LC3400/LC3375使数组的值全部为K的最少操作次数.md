# LC3375使数组的值全部为K的最少操作次数

难度：简单
数据结构：数组
算法：哈希表

## 题目

给定一个整数数组nums和一个整数k。

如果一个数组中所有**严格大于**h的整数值都**相等**，那么我们称整数h是**合法的**。

比如，如果nums = [10, 8, 10, 8]，那么h = 9是一个合法整数，因为所有满足nums[i] > 9的数都等于10，但是5不是合法整数。

可以对nums执行以下操作：

- 选择一个整数h，它对于当前nums中的值是合法的。
- 对于每个下标i，如果它满足nums[i] > h，那么将nums[i]变为h。

目标是将nums中的所有元素都变为k，返回最少操作次数。如果无法将所有元素都变k，那么返回-1。

示例：

> 输入：nums = [5,2,5,4,5], k = 2
> 输出：2
> 解释：依次选择合法整数4和2，将数组全部变为2。

> 输入：nums = [2,1,2], k = 2
> 输出：-1
> 解释：没法将所有值变为2。

提示：

- 1 <= nums.length <= 100
- 1 <= nums[i] <= 100
- 1 <= k <= 100

## 题解

### 哈希表

分析可知，只有当k小于等于数组中的最小值时，才可以将所有元素都变为k，操作次数为数组中大于k的数的个数。因此，只需要遍历一遍数组，找出数组中的最小值和出现过的大于k的数即可。

``` csharp
public int MinOperations(int[] nums, int k)
{
    if (nums is not { Length: > 0 })
    {
        return -1;
    }

    int n = nums.Length;
    HashSet<int> numbers = new (n);
    for (int i = 0; i < n; i++)
    {
        if (nums[i] < k)
        {
            return -1;
        }
        else if (nums[i] > k)
        {
            numbers.Add(nums[i]);
        }
    }

    return numbers.Count;
}
```

时间复杂度：时间复杂度为O(n)，n为数组长度。

空间复杂度：需要用哈希表记录已经出现的元素，空间复杂度为O(n)。