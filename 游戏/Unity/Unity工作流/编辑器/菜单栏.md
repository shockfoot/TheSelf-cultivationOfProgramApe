# Selection类

`Selection`类用于在编辑器中获取当前的选取。

静态方法：

- `Contains()`：指定对象是否包含在当前选择中。
- `GetFiltered()`：返回按类型和选择模式筛选后的选择项。对于游戏对象上多个相同类型的组件，只返回第一个。当类型是组件或游戏对象的派生类时，支持所有选择模式，否则只支持`SelectionMode.ExcludePrefab`或`SelectionMode.Editable`。
- `GetTransforms()`：返回按选择模式筛选后的选择项的`Transform`组件列表。
- `SetActiveObjectWithContext()`：选择具有上下文的对象。

`SelectionMode`枚举用于指定`Selection`类的选择模式，默认值为`SelectionMode.TopLevel | SelectionMode.ExcludePrefab | SelectionMode.Editable`。

- `Unfiltered`：返回所有选择。
- `TopLevel`：只返回根级，过滤子对象。
- `Deep`：返回所有，不过滤子对象。
- `ExcludePrefab`：从选择中排除任何预制体。
- `Editable`：从选择中排除任何不可修改的对象。
- `Assets`：只返回资产目录中的资产对象。
- `DeepAssets`：如果选择包含文件夹，还包括文件层次结构中该文件夹中的所有资源和子文件夹。

字段：

- `activeContext`：通过`SetActiveObjectWithContext()`设置的当前上下文对象。
- `activeGameObject`：激活（在Inspector窗口中显示）的游戏对象，可能是预制体或不可修改的对象。
- `activeInstanceID`：`activeGameObject`的InstanceID。
- `activeTransform`：激活（在Inspector窗口中显示）的`Transform`，不可能是预制体或不可修改的对象。
- `activeObject`：实际选择的对象，可能是预制体或不可修改的对象。
- `assetGUIDs`：所选资源的GUID列表。
- `count`：选择数量。
- `gameObjects`：实际选择的游戏对象列表，可能是预制体或不可修改的对象。
- `objects`：场景中实际选择的对象列表。所有对象都将返回，包括项目中的资产。
- `instanceIDs`：`objects`的InstanceID。所有对象都将返回，包括项目中的资产。
- `transforms`：所有根级`Transform`，不包括预制体。
- `selectionChanged`：当前活动/选定选择发生更改时触发的回调。

# MenuItem属性

使用`MenuItem`属性可以在主菜单和Inspector窗口上下文菜单中添加菜单项。

`MenuItem`属性修饰静态函数，以将其转换为菜单命令。

`MenuItem`属性通常可以设置三个值：Item Name（菜单路径）、Is Validate Function（是否为验证函数）、Priority（优先级）。

通过菜单路径指定菜单命令的位置和名字。可以使用Unity的根菜单路径（File、Edit、Assets、GameObject、Component、Window等），也可以使用自定义的根菜单路径。

是否为验证函数用于同名菜单项的前置验证，默认为`false`。只有当验证通过时，同名菜单项才可以点击。

优先级决定了菜单项在菜单中的顺序，默认为1000。父菜单的优先级等于第一个子菜单的优先级。优先级小的显示在菜单列表上方。当两个菜单项的优先级大于10（不包括10）时，二者之间会出现分隔线。

可以在菜单路径后跟`" _"`和**非特殊按键**给菜单项绑定快捷键。特殊按键Ctrl标识为`'%'`，Alt标识为`'&'`，Shift标识为`'#'`，此时不需要`'_'`。

## Hierarchy窗口菜单项

根菜单路径为GameObject并且优先级小于50的菜单项会出现在Hierarchy窗口的上下文菜单中，因此根菜单路径为GameObject的菜单项的优先级默认为10。

## Project窗口菜单项

当根菜单路径为Assets时，该菜单项会出现在Project窗口的上下文菜单中。所有优先级的菜单项都会出现在Project窗口的上下文菜单中。

## 组件上下文菜单

根菜单路径为`CONTEXT/[组件名]`的菜单项会出现在Inspector窗口该组件的上下文菜单中。此时绑定的静态函数可以添加一个`MenuCommand`参数，用于获取菜单操作上下文。

`MenuCommand`类传递了两个数据：

- Context：当前菜单命令的目标对象（`Object`类型）。
- UserData：自定义信息（`int`类型）。

# CreateAssetMenu属性

`CreateAssetMenu`属性修饰`ScriptableObject`派生类，可以在Assets/Create的菜单栏下添加创建该派生类资产的菜单项。

`CreateAssetMenu`属性可以设置三个值：File Name（默认资产文件名）、Menu Name（菜单路径）、Order（绘制顺序）。

# ContextMenuItem属性

`ContextMenuItem`属性修饰字段，以在Inspector窗口该字段的右键菜单栏中添加菜单项，点击时执行绑定函数。

`ContextMenuItem`属性可以设置三个值：Name（菜单路径）、Fuction（绑定函数）、Order（绘制顺序）。

# ContextMenu属性

`ContextMenu`属性修饰非静态方法，以在Inspector窗口该组件的上下文菜单中添加菜单项。

`ContextMenu`属性通常可以设置三个值：Item Name（菜单路径）、Is Validate Function（是否为验证函数）、Priority（优先级，默认为1000000）。