# 坐标系

笛卡尔坐标系按维数可分为一维坐标系、二维坐标系、三维坐标系等。

二维坐标系通常X轴正方向为右，Y轴正方向为上。三维坐标系中，在二维坐标系方向的前提下，Z轴正方向由眼前伸向深处时为左手坐标系，反正为右手坐标系。

> 对于二维坐标系，X轴和Y轴虽然可能指向不同，但总可以通过旋转操作使其坐标值指向相同，即二维坐标系总是具有相同的**旋向性**（Handedness）。**具有相同旋向性的坐标系是等价的。**
> 对于三维坐标系，左手坐标系和右手坐标系的旋向性是不同的。在左手坐标系中，旋转正方向由左手法则确定；在右手坐标系中，旋转正方向由右手法则确定。

**坐标系按参考系还可以分为本地坐标系、世界坐标系、视口坐标系、屏幕坐标系等。**

- 本地坐标系以自身位置为原点，表示物体间相对位置和方向，并且会根据物体自身选择而旋转。
- 世界坐标系又称绝对坐标系，是以世界原点为中心，每个物体都有唯一的位置和方向。
- 视口坐标系，右手坐标系，摄像机正前方为Z轴负方向。以左下角为原点，右上角坐标为(1,1)，用于表示物体在摄像机视锥空间的位置。
- 屏幕（投影）坐标系是二维直角坐标系，Unity中以屏幕左下角为原点，X轴和Y轴最大值分别为屏幕的最大宽度和最大高度，用于表示物体在屏幕中的位置。

# 向量

标量是只有大小、没有方向的量。向量是**具有大小（即向量的长度，也叫模）和方向的有向线段**。

向量可以使用**坐标或矩阵**表示，表示**由起点指向终点的有向线段**，各分量表示终点到起点在各轴的距离。点有位置，而**向量没有位置**。向量的矩阵表示有两种形式，分别为各分量纵向排列的**列向量**和横向排列的**行向量**，二者表示同一个向量。

**向量的模等于各分量的平方和。模为1的向量称为单位向量，也称为被归一化的向量。对于给定任何非零向量，将其转换为单位向量的过程被称作归一化**（Normalization）。

## 向量加/减

两向量相加/减，对应分量相加/减，结果仍是向量，可以使用三角形定则或平行四边形定则计算。向量不能和标量加/减；不同维度的向量不能加/减。

- 三角形定则：将两向量依次首位顺次相接，相加结果即为第一个向量的起点指向最后一个向量的终点。将两向量平移至公共起点，从减数向量终点指向被减向量终点的向量为相减结果。
- 平行四边形定则：将两向量平移至公共起点，以这两向量为边绘制平行四边形，从公共起点指向公共终点的向量为相加结果。

## 向量乘/除标量

向量与标量相乘，各分量分别乘/除以标量，结果仍是向量。对于乘，向量和标量可交换位置；除法中，标量不能被向量除。

**向量乘/除标量的几何意义是在向量原方向上对向量进行缩放。**

**任一向量除以其模长即可得到单位向量。**

## 点乘

两向量进行点乘（点积、内积），对应分量相乘后求和，结果是标量。点乘适用交换律、分配律和结合律，可以结合标量乘/除（对其中一个向量进行缩放再点乘等价于对点乘结果进行缩放）。

**点乘的几何意义是点乘结果是两向量模的积再乘以二者夹角的余弦值**，因此两向量夹角的余弦值可由二者的点积和模计算得出。特别地，向量自身做点乘，结果是其模的平方；两单位向量点乘，结果即是两向量夹角的余弦值。

点乘可以用于求取两向量夹角和投影、判断两向量是否同方向、判断两向量是否接近等。

## 叉乘

两向量进行叉乘（叉积、外积），结果是向量，运算规则是：以两向量和分量坐标构建行列式，其中第一行为分量坐标，第二、三行分别为两向量对应分量，然后按第一行展开，分别求取对应分量的代数余子式。叉乘适用分配律和结合律，不适用交换律。

**叉乘的几何意义是叉乘结果是一个垂直于原两向量的向量，即原两向量所在平面的法向量，且结果向量的模等于两向量模的积再乘以二者夹角的正弦值，即等于两向量构成的平行四边形的面积。** 叉乘结果向量方向可以使用左/右手法则确定。

- 左/右手法则：首先做出点赞手势，四指方向从**被乘向量旋转向乘向量**，此时拇指方向即为叉乘结果向量的方向。

叉乘可以用来求取法向量、判断面的朝向、判断一个向量再另一个向量的左侧还是右侧、判断一个点是否在几何图形内部（依次判断边向量的起点与该点构成的向量是否在边向量的同一侧）等。